---
toc: false
---

# Uncontrolled components 

In React, uncontrolled components are those where form data is handled by the DOM itself rather than by the React component's state. In this case, React does not control the form elements' values, and you typically access their values using refs. For that, we use the `useRef` hook to create a reference to the DOM element and access its value when needed.

**UseRef**:

- **Persists across renders**: The value stored in a ref does not cause re-renders when it changes, making it suitable for storing mutable values that don't affect the UI.
- **Direct DOM access**: Refs provide a way to directly access and interact with DOM elements, allowing you to read or modify their properties.
- **Avoiding state for non-UI data**: Refs are useful for storing data that doesn't need to trigger a UI update, such as form input values, timers, or external library instances.
- It returns a mutable ref object whose `.current` property is initialized to the passed argument (initialValue). The returned object will persist for the full lifetime of the component.

```jsx
import { useRef } from 'react';

function MyComponent() {
  const inputRef = useRef(null);

  const handleSubmit = (event) => {
    event.preventDefault();
    console.log('Input Value:', inputRef.current.value);
  };

  return (
    <form onSubmit={handleSubmit}>
      <input type="text" ref={inputRef} />
      <button type="submit">Submit</button>
    </form>
  );
}
```

**Use case:**

Take an example of a login form. There is a username or email and password field. Instead of controlling the values using state, we can use refs to access the values when the user submits the form. If all that matters is the value at the time of submission and you don't need to validate or manipulate the input values as the user types, uncontrolled components can be a simpler choice.

Another use case is holding timerIds or intervalIds that don't need to trigger re-renders. You can store these IDs in refs to manage timers without affecting the component's state.

### App refactor 

Since the app is growing, lets create a more structured folder structure so that it becomes easy to find respective compoennts rather than having everything in a single folder.

```
src  
|-- components
    |-- cart
    |-- demo
    |-- login
    |-- ui

|-- App.jsx 
```
Also, lets create a Login component that is an uncontrolled component with useRef.

- Create a new Login.jsx component inside components/login
- Should have input fields for email and password
- Clicking on Login should log the values to console
- Clicking clear button should reset the form fields
- Use useRef to access the input field values.

[Find the working solution in this commit](https://github.com/thecanadiandev/react-core-fundamentals/commit/59048c4fb4f58bb6d1b1142bca1b319d2f4e613a)

